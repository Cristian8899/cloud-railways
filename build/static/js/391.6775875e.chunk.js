"use strict";(self.webpackChunkreact_complete_guide=self.webpackChunkreact_complete_guide||[]).push([[391],{5306:function(e,t,n){n.d(t,{Z:function(){return o}});n(2791);var s=n(184),o=function(e){return(0,s.jsxs)("div",{className:"alert",children:[(0,s.jsx)("span",{children:e.message}),(0,s.jsx)("button",{onClick:e.onClose,className:"alert-button",children:"Close"})]})}},2391:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var s=n(885),o=n(2791),i=n(2025),r="AuthForm_auth__bgAsk",a="AuthForm_control__DvGQO",c="AuthForm_actions__aAj0Y",u="AuthForm_toggle__JtTkn",l=n(2556),d=n(654),h=n(5306),m=n(184),p=function(){var e=(0,i.k6)(),t=(0,o.useRef)(),n=(0,o.useRef)(),p=(0,o.useContext)(d.Z),f=(0,o.useState)(!0),g=(0,s.Z)(f,2),x=g[0],j=g[1],k=(0,o.useState)(!1),v=(0,s.Z)(k,2),w=v[0],S=v[1],_=(0,o.useState)(""),b=(0,s.Z)(_,2),C=b[0],y=b[1];return(0,m.jsxs)("section",{className:r,children:[C&&(0,m.jsx)(h.Z,{message:C,onClose:function(){y("")}}),(0,m.jsx)("h1",{children:x?"Login":"Sign Up"}),(0,m.jsxs)("form",{onSubmit:function(s){s.preventDefault();var o,i=t.current.value,r=n.current.value;i&&i.includes("@")?!r||r.length<6?y("Password should be at least 6 characters long!"):(S(!0),o=x?"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDb7xoSVKkLIuCpUlM4UCqoe-d56S02yY4":"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDb7xoSVKkLIuCpUlM4UCqoe-d56S02yY4",fetch(o,{method:"POST",body:JSON.stringify({email:i,password:r,returnSecureToken:!0}),headers:{"Content-Type":"application/json"}}).then((function(e){return S(!1),e.ok?e.json():e.json().then((function(e){throw new Error("Authentication failed")}))})).then((function(t){var n=new Date((new Date).getTime()+1e3*+t.expiresIn);p.login(t.idToken,n.toISOString(),i),e.replace("/new-ticket")})).catch((function(e){alert(e.message)}))):y("Invalid email!")},children:[(0,m.jsxs)("div",{className:a,children:[(0,m.jsx)("label",{htmlFor:"email",children:"Your Email"}),(0,m.jsx)("input",{type:"email",id:"email",required:!0,ref:t})]}),(0,m.jsxs)("div",{className:a,children:[(0,m.jsx)("label",{htmlFor:"password",children:"Your Password"}),(0,m.jsx)("input",{type:"password",id:"password",required:!0,ref:n})]}),(0,m.jsxs)("div",{className:c,children:[!w&&(0,m.jsx)("button",{children:x?"Login":"Create Account"}),w&&(0,m.jsx)(l.Z,{}),(0,m.jsx)("button",{type:"button",className:u,onClick:function(){j((function(e){return!e}))},children:x?"Create new account":"Login with existing account"})]})]})]})},f=function(){return(0,m.jsx)(p,{})}}}]);
//# sourceMappingURL=391.6775875e.chunk.js.map